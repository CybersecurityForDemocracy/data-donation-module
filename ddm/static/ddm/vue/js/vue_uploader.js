(function(){"use strict";var e={2851:function(e,t,n){var a=n(821);const r={class:"row"},o={class:"col"},s={class:"modal custom-modal",id:"overlayModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},i={class:"modal-dialog modal-dialog-centered custom-modal-container"},l={class:"modal-content fs-1 text-center custom-modal-content"},c={class:"p-3 modal-message"},d=(0,a._)("div",{class:"dot-floating"},null,-1);function u(e,t,n,u,p,g){const m=(0,a.up)("FileUploader");return(0,a.wg)(),(0,a.iD)(a.HY,null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.parsedUploadConfig,((e,t)=>((0,a.wg)(),(0,a.j4)(m,{key:t,"component-id":t,"expects-zip":"zip"===e.ul_type,name:e.name,blueprints:e.blueprints,instructions:e.instructions,"exception-url":this.exceptionUrl,onChangedData:g.updatePostData},null,8,["component-id","expects-zip","name","blueprints","instructions","exception-url","onChangedData"])))),128)),(0,a._)("div",r,[(0,a._)("div",o,[(0,a._)("button",{class:"flow-btn",type:"button","data-bs-toggle":"modal","data-bs-target":"#overlayModal",onClick:t[0]||(t[0]=(...e)=>g.zipData&&g.zipData(...e))},(0,a.zw)(e.$t("next-btn-label"))+"  ›",1)])]),(0,a._)("div",s,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a._)("div",c,(0,a.zw)(e.$t("data-submit-wait")),1),d])])])],64)}const p=e=>((0,a.dD)("data-v-5db02d3c"),e=e(),(0,a.Cn)(),e),g={class:"mb-5"},m={class:"float-left bg-dark text-white pt-2 ps-2 pb-1 rounded-top"},f={class:"col-sm"},h=["id"],b={class:"accordion-item"},w=["id"],_=["data-bs-target","aria-controls"],y=["id","data-bs-parent"],z={class:"accordion-body"},v={key:1},D={class:"accordion-body border"},x={class:"row align-items-center"},S=p((()=>(0,a._)("div",{class:"col-auto ul-status-icon"},[(0,a._)("i",{class:"bi bi-upload"})],-1))),k={class:"col ul-status-description"},$={key:0},E={key:1},C={class:"col ul-status-message"},U={class:"select-file-btn"},T=["name"],I=p((()=>(0,a._)("div",{class:"col-auto ul-status-icon"},[(0,a._)("div",{class:"clearfix"},[(0,a._)("p",null,[(0,a._)("span",{class:"spinner-border float-right me-3",role:"status"},[(0,a._)("span",{class:"sr-only"})])])])],-1))),O={class:"col ul-status-description"},j=p((()=>(0,a._)("div",{class:"col ul-status-message"},null,-1))),H=p((()=>(0,a._)("div",{class:"col-auto ul-status-icon"},[(0,a._)("i",{class:"bi bi-file-check"})],-1))),A={class:"col ul-status-description"},Y={class:"text-success fw-bold"},q=p((()=>(0,a._)("div",{class:"col ul-status-message"},null,-1))),P=p((()=>(0,a._)("div",{class:"col-auto ul-status-icon"},[(0,a._)("i",{class:"bi bi-exclamation-diamond text-warning"})],-1))),F={class:"col-auto ul-status-description"},N={class:"fw-bold"},Z={class:"col ul-status-message"},L=p((()=>(0,a._)("div",{class:"col-auto ul-status-icon"},[(0,a._)("i",{class:"bi bi-exclamation-diamond text-danger"})],-1))),M={class:"col-auto ul-status-description"},K={class:"fw-bold"},B={class:"col ul-status-message"},J={class:"text-danger"},V={class:"ul-feedback-container row border-bottom mt-3"},G={class:"col"},R=p((()=>(0,a._)("div",{class:"col-auto bp-ul-icon"},[(0,a._)("i",{class:"bi bi-file-earmark-fill text-grey"})],-1))),W={class:"col-2 bp-description"},Q={class:"col bp-ul-status"},X=p((()=>(0,a._)("div",{class:"col bp-ul-data"},null,-1))),ee=p((()=>(0,a._)("div",{class:"col bp-ul-consent"},null,-1))),te={class:"row pb-2"},ne=p((()=>(0,a._)("div",{class:"col-auto bp-ul-icon"},[(0,a._)("i",{class:"bi bi-file-earmark-check-fill text-success"})],-1))),ae={class:"col-2 bp-description"},re={class:"col bp-ul-status"},oe={class:"col-auto bp-ul-data"},se=["id","onClick","href","aria-controls"],ie=["id"],le=(0,a.Uk)(),ce=p((()=>(0,a._)("i",{class:"bi bi-arrow-bar-down collapse-icon rotate-down"},null,-1))),de={class:"row ms-2"},ue=["id"],pe={class:"ul-data-container"},ge=["id"],me={class:"row ms-2"},fe={class:"row bg-white pb-3 pt-3 pl-32"},he={class:"fw-bold"},be={class:"surquest-gq-response surquest-cq-response"},we={class:"surquest-choice-item form-check"},_e={class:"form-check-label rb-cb-label",for:"donate-agree"},ye=["onUpdate:modelValue"],ze={class:"surquest-choice-item form-check"},ve={class:"form-check-label rb-cb-label",for:"donate-disagree"},De=["onUpdate:modelValue"],xe=p((()=>(0,a._)("div",{class:"col-auto bp-ul-icon"},[(0,a._)("i",{class:"bi bi-file-earmark-x-fill text-danger"})],-1))),Se={class:"col-2 bp-description"},ke={class:"col bp-ul-status"},$e={key:1},Ee=p((()=>(0,a._)("div",{class:"col-auto bp-ul-data"},null,-1))),Ce=p((()=>(0,a._)("div",{class:"col-auto bp-ul-consent"},null,-1)));function Ue(e,t,n,r,o,s){const i=(0,a.up)("DonationInstructions");return(0,a.wg)(),(0,a.iD)("div",g,[(0,a._)("div",m,[(0,a._)("div",f,[(0,a._)("h4",null,"Upload "+(0,a.zw)(n.name),1)])]),(0,a._)("div",{class:"accordion",id:"ul-acc-"+n.componentId},[(0,a._)("div",b,[(0,a._)("h3",{class:"accordion-header",id:"acc-instr-head-"+n.componentId},[(0,a._)("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#acc-instr-body-"+n.componentId,"aria-expanded":"true","aria-controls":"acc-instr-body-"+n.componentId},[(0,a._)("b",null,(0,a.zw)(e.$t("instructions")),1)],8,_)],8,w),(0,a._)("div",{id:"acc-instr-body-"+n.componentId,class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#ul-acc-"+n.componentId},[(0,a._)("div",z,[n.instructions.length?((0,a.wg)(),(0,a.j4)(i,{key:0,instructions:n.instructions,"component-id":n.componentId},null,8,["instructions","component-id"])):((0,a.wg)(),(0,a.iD)("div",v,(0,a.zw)(e.$t("no-instructions-defined"))+".",1))])],8,y)])],8,h),(0,a._)("div",D,[(0,a._)("div",x,["pending"===o.uploadStatus?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[S,(0,a._)("div",k,[o.uploadAttempts?o.uploadAttempts?((0,a.wg)(),(0,a.iD)("p",E,(0,a.zw)(e.$t("upload-different-file"))+":",1)):(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",$,(0,a.zw)(e.$t("upload-file"))+":",1))]),(0,a._)("div",C,[(0,a._)("label",U,[(0,a._)("input",{name:"ul-"+n.componentId,type:"file",onChange:t[0]||(t[0]=(...e)=>s.processFile&&s.processFile(...e)),class:"d-none"},null,40,T),(0,a.Uk)(" "+(0,a.zw)(e.$t("choose-file")),1)])])],64)):"processing"===o.uploadStatus?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[I,(0,a._)("div",O,[(0,a._)("p",null,(0,a.zw)(e.$t("file-is-being-uploaded")),1)]),j],64)):"success"===o.uploadStatus?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[H,(0,a._)("div",A,[(0,a._)("p",Y,(0,a.zw)(e.$t("upload-success")),1),(0,a._)("p",null,[(0,a._)("a",{onClick:t[1]||(t[1]=e=>o.uploadStatus="pending"),class:"upload-other"},(0,a.zw)(e.$t("choose-different-file")),1)])]),q],64)):"partial"===o.uploadStatus?((0,a.wg)(),(0,a.iD)(a.HY,{key:3},[P,(0,a._)("div",F,[(0,a._)("p",N,(0,a.zw)(e.$t("partial-upload-status")),1),(0,a._)("p",null,[(0,a._)("a",{onClick:t[2]||(t[2]=e=>o.uploadStatus="pending"),class:"upload-other"},(0,a.zw)(e.$t("choose-different-file")),1)])]),(0,a._)("div",Z,[(0,a._)("p",null,(0,a.zw)(e.$t("partial-upload-message")),1)])],64)):"failed"===o.uploadStatus?((0,a.wg)(),(0,a.iD)(a.HY,{key:4},[L,(0,a._)("div",M,[(0,a._)("p",K,(0,a.zw)(e.$t("upload-failed")),1),(0,a._)("p",null,[(0,a._)("a",{onClick:t[3]||(t[3]=e=>o.uploadStatus="pending"),class:"upload-other"},(0,a.zw)(e.$t("choose-different-file")),1)])]),(0,a._)("div",B,[(0,a._)("ul",J,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.generalErrors,(e=>((0,a.wg)(),(0,a.iD)("li",{key:e},(0,a.zw)(e),1)))),128))])])],64)):(0,a.kq)("",!0)]),(0,a._)("div",V,[(0,a._)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.blueprints,(n=>((0,a.wg)(),(0,a.iD)("div",{key:n,class:(0,a.C_)(["ul-status row align-items-center border-top pt-2 pb-2",{"ul-success":"success"===o.blueprintData[n.id.toString()].status,"ul-failed":"failed"===o.blueprintData[n.id.toString()].status}])},["pending"===o.blueprintData[n.id.toString()].status?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[R,(0,a._)("div",W,(0,a.zw)(n.name),1),(0,a._)("div",Q,(0,a.zw)(e.$t("not-yet-extracted")),1),X,ee],64)):(0,a.kq)("",!0),"success"===o.blueprintData[n.id.toString()].status?((0,a.wg)(),(0,a.iD)(a.HY,{key:1},[(0,a._)("div",te,[ne,(0,a._)("div",ae,(0,a.zw)(n.name),1),(0,a._)("div",re,(0,a.zw)(e.$t("upload-success-short")),1),(0,a._)("div",oe,[(0,a._)("a",{class:"text-orange text-decoration-none",id:"collapse-toggle-"+n.id.toString(),"data-bs-toggle":"collapse",onClick:e=>s.toggleCollapseLabel("collapse-toggle-"+n.id.toString()),href:"#bp-fb-"+n.id.toString(),role:"button","aria-expanded":"true","aria-controls":"bp-fb-"+n.id.toString()},[(0,a._)("span",{id:"collapse-toggle-"+n.id.toString()+"-label"},(0,a.zw)(e.$t("hide-extracted-data")),9,ie),le,ce],8,se)])]),(0,a._)("div",de,[(0,a._)("div",{id:"bp-fb-"+n.id.toString(),class:"row bg-white ul-data-collapsible collapse show"},[(0,a._)("p",null,(0,a.zw)(e.$t("extracted-data-intro"))+":",1),(0,a._)("div",pe,[(0,a._)("table",{id:"ul-result-"+n.id.toString(),class:"table table-sm"},[(0,a._)("thead",null,[(0,a._)("tr",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.f_extract,(e=>((0,a.wg)(),(0,a.iD)("th",{key:e},(0,a.zw)(e),1)))),128))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.blueprintData[n.id.toString()].extracted_data,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,(e=>((0,a.wg)(),(0,a.iD)("td",{key:e},(0,a.zw)(e),1)))),128))])))),128))])],8,ge)])],8,ue)]),(0,a._)("div",me,[(0,a._)("div",fe,[(0,a._)("p",he,(0,a.zw)(e.$t("donation-question")),1),(0,a._)("div",be,[(0,a._)("div",we,[(0,a._)("label",_e,[(0,a.wy)((0,a._)("input",{type:"radio",id:"donate-agree",value:"true","onUpdate:modelValue":e=>o.blueprintData[n.id.toString()].consent=e,onChange:t[4]||(t[4]=(...e)=>s.emitToParent&&s.emitToParent(...e))},null,40,ye),[[a.G2,o.blueprintData[n.id.toString()].consent]]),(0,a.Uk)(" "+(0,a.zw)(e.$t("donation-agree")),1)])]),(0,a._)("div",ze,[(0,a._)("label",ve,[(0,a.wy)((0,a._)("input",{type:"radio",id:"donate-disagree",value:"false","onUpdate:modelValue":e=>o.blueprintData[n.id.toString()].consent=e,onChange:t[5]||(t[5]=(...e)=>s.emitToParent&&s.emitToParent(...e))},null,40,De),[[a.G2,o.blueprintData[n.id.toString()].consent]]),(0,a.Uk)(" "+(0,a.zw)(e.$t("donation-disagree")),1)])])])])])],64)):(0,a.kq)("",!0),"failed"===o.blueprintData[n.id.toString()].status?((0,a.wg)(),(0,a.iD)(a.HY,{key:2},[xe,(0,a._)("div",Se,(0,a.zw)(n.name),1),(0,a._)("div",ke,[o.blueprintData[n.id.toString()].errors.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(o.blueprintData[n.id.toString()].errors,(e=>((0,a.wg)(),(0,a.iD)("p",{key:e},(0,a.zw)(e),1)))),128)):((0,a.wg)(),(0,a.iD)("p",$e,(0,a.zw)(e.$t("extraction-failed")),1))]),Ee,Ce],64)):(0,a.kq)("",!0)],2)))),128))])])])])}n(6699);var Te=n(5733),Ie=n.n(Te);const Oe=e=>((0,a.dD)("data-v-39892445"),e=e(),(0,a.Cn)(),e),je=["id"],He={class:"carousel-indicators"},Ae=["data-bs-target","data-bs-slide-to","aria-label","aria-current"],Ye={class:"carousel-inner"},qe=["innerHTML"],Pe=["data-bs-target"],Fe=Oe((()=>(0,a._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1))),Ne=Oe((()=>(0,a._)("span",{class:"visually-hidden"},"Previous",-1))),Ze=[Fe,Ne],Le=["data-bs-target"],Me=Oe((()=>(0,a._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1))),Ke=Oe((()=>(0,a._)("span",{class:"visually-hidden"},"Next",-1))),Be=[Me,Ke];function Je(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",{id:"carousel-"+n.componentId,class:"carousel carousel-dark slide","data-bs-interval":"false","data-bs-ride":"carousel"},[(0,a._)("div",He,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.instructions,((e,t)=>((0,a.wg)(),(0,a.iD)("button",{key:t,type:"button","data-bs-target":"#carousel-"+n.componentId,"data-bs-slide-to":t,"aria-label":"Step "+t,class:(0,a.C_)({active:0===t}),"aria-current":0===t},null,10,Ae)))),128))]),(0,a._)("div",Ye,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.instructions,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:(0,a.C_)(["carousel-item",{active:0===t}]),innerHTML:e.text},null,10,qe)))),128))]),(0,a._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carousel-"+n.componentId,"data-bs-slide":"prev"},Ze,8,Pe),(0,a._)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carousel-"+n.componentId,"data-bs-slide":"next"},Be,8,Le)],8,je)}var Ve={name:"DonationInstructions",props:{instructions:Array,componentId:Number},data(){return{}},methods:{}},Ge=n(3744);const Re=(0,Ge.Z)(Ve,[["render",Je],["__scopeId","data-v-39892445"]]);var We=Re,Qe=n(9669),Xe=n.n(Qe),et={name:"ProcessFile",components:{DonationInstructions:We},props:{expectsZip:Boolean,blueprints:Array,instructions:Array,componentId:Number,name:String,exceptionUrl:String},emits:["changedData"],data(){return{blueprintData:{},uploadStatus:"pending",uploadAttempts:0,generalErrors:[]}},created(){this.blueprints.forEach((e=>{let t=e.id,n={name_uploaded_file:null,consent:"",extracted_data:[],status:"pending",errors:[]};this.blueprintData[t.toString()]=n})),this.resetErrorLog(),this.emitToParent()},methods:{toggleCollapseLabel(e){let t=document.getElementById(e),n=document.getElementById(e.concat("-label")),a="";"true"===t.getAttribute("aria-expanded")?(a=this.$t("hide-extracted-data"),t.getElementsByTagName("i")[0].classList.add("rotate-down")):(a=this.$t("show-extracted-data"),t.getElementsByTagName("i")[0].classList.remove("rotate-down")),setTimeout((()=>{n.innerHTML=a}),300)},processFile(e){let t=this;t.uploadStatus="processing",t.uploadAttempts+=1,t.resetErrorLog();const n=e.target.files;if(t.expectsZip&&1===n.length)Ie().loadAsync(n[0]).then((e=>{t.blueprints.forEach((n=>{let a=new RegExp(n.regex_path),r=!1;e.file(a).forEach((e=>{r=!0,e.async("string").then((e=>t.processContent(e,n))).catch((e=>{Xe().post(t.exceptionUrl,{status_code:4199,message:e.message}).catch((e=>console.error(`Could not post error message, ${e}`))),t.recordError(t.$t("error-generic")+e.message,n.id.toString())}))})),r||(Xe().post(t.exceptionUrl,{status_code:418,message:t.$t("error-regex-not-matched")}).catch((e=>console.error(`Could not post error message, ${e}`))),t.recordError(t.$t("error-regex-not-matched"),n.id.toString()))}))})).catch((e=>{let n="",a=0;e.message.includes("zip")&&e.message.includes("central")?(n=t.$t("error-not-zip"),a=4101):e.message.includes("Corrupted zip")?(n=t.$t("error-zip-corrupted"),a=4102):e.message.includes("Encrypted zip")?(n=t.$t("error-zip-encrypted"),a=4103):(n=t.$t("error-generic")+e.message,a=4198),Xe().post(t.exceptionUrl,{status_code:a,message:e.message}).catch((e=>console.error(`Could not post error message, ${e}`))),t.recordError(n,"general")}));else if(t.expectsZip||1!==n.length)Xe().post(t.exceptionUrl,{status_code:4104,message:t.$t("error-multiple-files","en")}).catch((e=>console.error(`Could not post error message, ${e}`))),t.recordError(t.$t("error-multiple-files"),"general");else{"json"===t.blueprints[0].format&&(n[0].name.endsWith(".json")||(Xe().post(t.exceptionUrl,{status_code:4105,message:t.$t("error-wrong-file-type","en",{actualType:n[0].name.substr(n[0].name.lastIndexOf(".")),expectedType:".json"})}).catch((e=>console.error(`Could not post error message, ${e}`))),t.recordError(t.$t("error-wrong-file-type",{actualType:n[0].name.substr(n[0].name.lastIndexOf(".")),expectedType:".json"}),t.blueprints[0].id.toString())));let e=new FileReader;e.onload=function(e){let n=e.target.result;try{t.processContent(n,t.blueprints[0])}catch(a){Xe().post(t.exceptionUrl,{status_code:4199,message:a.message}).catch((e=>console.error(`Could not post error message, ${e}`))),t.recordError(t.$t("error-generic")+a.message,t.blueprints[0].id.toString())}},e.readAsText(n[0])}setTimeout((()=>{t.updateStatus(),t.emitToParent()}),1e3)},processContent(e,t){let n=this,a=t.id.toString(),r=null,o=[];if("json"===t.format){try{r=JSON.parse(e)}catch(s){Xe().post(n.exceptionUrl,{status_code:4106,message:s.message}).catch((e=>console.error(`Could not post error message, ${e}`))),n.recordError(n.$t("error-json-syntax"),n.blueprints[0].id.toString())}if(r){let e=0;r.forEach((n=>{if(t.f_expected.every((e=>Object.keys(n).includes(e)))){for(let e in n)t.f_extract.indexOf(e)<0&&delete n[e];o.push(n)}else e+=1})),e>0&&(Xe().post(n.exceptionUrl,{status_code:4201,message:`Expected fields missing in ${e}/${r.length} entries.`}).catch((e=>console.error(`Could not post error message, ${e}`))),n.recordError(n.$t("error-expected-fields-missing"),t.id.toString())),n.blueprintData[a].extracted_data=o}}},emitToParent(){let e=JSON.parse(JSON.stringify(this.blueprintData));Object.keys(e).forEach((t=>{"false"===e[t].consent|""===e[t].consent&&(e[t].extracted_data=[])})),this.$emit("changedData",e)},resetErrorLog(){this.generalErrors=[];for(let e in this.blueprintData)this.blueprintData[e].errors=[]},recordError(e,t){"general"==t?this.generalErrors.push(e):this.blueprintData[t].errors.push(e)},updateStatus(){let e=0,t=Object.keys(this.blueprintData).length;for(let n in this.blueprintData)this.blueprintData[n].errors.length?(this.blueprintData[n].status="failed",e+=1):this.blueprintData[n].status="success";if(this.generalErrors.length||0!==e)if(!this.generalErrors.length&&e<t)this.uploadStatus="partial";else{this.uploadStatus="failed";for(let e in this.blueprintData)this.blueprintData[e].status="failed"}else this.uploadStatus="success"}}};function tt(e){e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{instructions:e=>{const{normalize:t}=e;return t(["Instructions"])},"no-instructions-defined":e=>{const{normalize:t}=e;return t(["No instructions defined"])},"upload-file":e=>{const{normalize:t}=e;return t(["Upload File"])},"upload-different-file":e=>{const{normalize:t}=e;return t(["Upload a different file"])},"upload-success":e=>{const{normalize:t}=e;return t(["Upload was successful"])},"upload-failed":e=>{const{normalize:t}=e;return t(["Upload failed"])},"choose-different-file":e=>{const{normalize:t}=e;return t(["select a different file"])},"choose-file":e=>{const{normalize:t}=e;return t(["Select file"])},"file-is-being-uploaded":e=>{const{normalize:t}=e;return t(["file is being uploaded"])},"extracted-files":e=>{const{normalize:t}=e;return t(["Extracted files"])},"not-yet-extracted":e=>{const{normalize:t}=e;return t(["not yet extracted"])},"upload-success-short":e=>{const{normalize:t}=e;return t(["Successfully Uploaded"])},"upload-failed-short":e=>{const{normalize:t}=e;return t(["Upload Failed"])},"show-extracted-data":e=>{const{normalize:t}=e;return t(["Show extracted data"])},"hide-extracted-data":e=>{const{normalize:t}=e;return t(["Hide extracted data"])},"donation-question":e=>{const{normalize:t}=e;return t(["Do you agree to donate and submit the data listed above?"])},"donation-agree":e=>{const{normalize:t}=e;return t(["Yes, I agree to submit these data"])},"donation-disagree":e=>{const{normalize:t}=e;return t(["No, I do not want to submit these data"])},"extracted-data-intro":e=>{const{normalize:t}=e;return t(["The following data have been extracted and will be transmitted to the researchers with your consent"])},file:e=>{const{normalize:t}=e;return t(["file"])},"error-multiple-files":e=>{const{normalize:t}=e;return t(["More than one file uploaded, but only one is expected."])},"error-not-zip":e=>{const{normalize:t}=e;return t(["A zip-file is expected but another file type was uploaded."])},"error-generic":e=>{const{normalize:t}=e;return t(["An error occurred: "])},"error-zip-corrupted":e=>{const{normalize:t}=e;return t(["The provided zip file is corrupted. Please download the zip file again from the original source and try again."])},"error-zip-encrypted":e=>{const{normalize:t}=e;return t(["The provided zip file is encrypted. Unfortunately, encrypted files are not supported."])},"error-expected-fields-missing":e=>{const{normalize:t}=e;return t(["Uploaded file does not contain all expected data fields."])},"error-regex-not-matched":e=>{const{normalize:t}=e;return t(["The provided zip container does not contain the matching file."])},"error-json-syntax":e=>{const{normalize:t}=e;return t(["The provided file contains a syntax error."])},"error-wrong-file-type":e=>{const{normalize:t,interpolate:n,named:a}=e;return t(["The provided file is of type '",n(a("actualType")),"' but '",n(a("expectedType")),"' is expected."])},"extraction-failed":e=>{const{normalize:t}=e;return t(["Information could not be extracted from uploaded file"])},"partial-upload-status":e=>{const{normalize:t}=e;return t(["Only partially uploaded"])},"partial-upload-message":e=>{const{normalize:t}=e;return t(["Zip file was successfully uploaded but only parts of the expected information were successfully extracted (see below)"])}},de:{instructions:e=>{const{normalize:t}=e;return t(["Instruktionen"])},"no-instructions-defined":e=>{const{normalize:t}=e;return t(["Es wurden keine Instruktionen definiert"])},"upload-file":e=>{const{normalize:t}=e;return t(["Datei hochladen"])},"upload-different-file":e=>{const{normalize:t}=e;return t(["Andere Datei hochladen"])},"upload-success":e=>{const{normalize:t}=e;return t(["Upload erfolgreich abgeschlossen"])},"upload-failed":e=>{const{normalize:t}=e;return t(["Etwas ging schief"])},"choose-different-file":e=>{const{normalize:t}=e;return t(["eine andere Datei auswählen"])},"choose-file":e=>{const{normalize:t}=e;return t(["Datei auswählen"])},"file-is-being-uploaded":e=>{const{normalize:t}=e;return t(["Datei wird hochgeladen"])},"extracted-files":e=>{const{normalize:t}=e;return t(["Ausgelesene Dateien"])},"not-yet-extracted":e=>{const{normalize:t}=e;return t(["noch nicht ausgelesen"])},"upload-success-short":e=>{const{normalize:t}=e;return t(["erfolgreich hochgeladen"])},"upload-failed-short":e=>{const{normalize:t}=e;return t(["Upload fehlgeschlagen"])},"show-extracted-data":e=>{const{normalize:t}=e;return t(["Ausgelesene Daten ansehen"])},"hide-extracted-data":e=>{const{normalize:t}=e;return t(["Ausgelesene Daten verbergen"])},"donation-question":e=>{const{normalize:t}=e;return t(["Sind Sie damit einverstanden, diese Daten zu spenden?"])},"donation-agree":e=>{const{normalize:t}=e;return t(["Ja, ich bin damit einverstanden, diese Daten zu spenden und an die Forschenden zu übermitteln."])},"donation-disagree":e=>{const{normalize:t}=e;return t(["Nein, ich möchte diese Daten nicht spenden."])},"extracted-data-intro":e=>{const{normalize:t}=e;return t(["Die folgenden Daten wurden ausgelesen und werden bei Ihrer Zustimmung an die Forschenden übermittelt"])},file:e=>{const{normalize:t}=e;return t(["Datei"])},"error-multiple-files":e=>{const{normalize:t}=e;return t(["Mehr als eine Datei hochgeladen, aber nur eine wird erwartet"])},"error-not-zip":e=>{const{normalize:t}=e;return t(["Es wird eine Zip-Datei erwartet, aber es wurde ein anderer Dateityp hochgeladen."])},"error-generic":e=>{const{normalize:t}=e;return t(["Es ist ein Fehler aufgetreten: "])},"error-zip-corrupted":e=>{const{normalize:t}=e;return t(["Die hochgeladene Zip-Datei scheint beschädigt zu sein. Bitte laden Sie die Zip-Datei erneut von der Originalquelle herunter und versuchen Sie, sie erneut hochzuladen."])},"error-zip-encrypted":e=>{const{normalize:t}=e;return t(["Die hochgeladene Zip-Datei ist password-geschützt. Leider werden verschlüsselte Dateien nicht unterstützt."])},"error-expected-fields-missing":e=>{const{normalize:t}=e;return t(["Die hochgeladene Datei enthält nicht alle erwarteten Datenfelder."])},"error-regex-not-matched":e=>{const{normalize:t}=e;return t(["Die entsprechende Datei ist nicht im hochgeladenen Zip-Container enthalten."])},"error-json-syntax":e=>{const{normalize:t}=e;return t(["Die json-Datei enthält einen Syntaxfehler."])},"error-wrong-file-type":e=>{const{normalize:t,interpolate:n,named:a}=e;return t(["Die ausgewählte Datei ist eine '",n(a("actualType")),"'-Datei; es wird aber eine '",n(a("expectedType")),"'-Datei erwartet."])},"extraction-failed":e=>{const{normalize:t}=e;return t(["Es konnten nicht alle erwarteten Dateien ausgelesen werden."])},"partial-upload-status":e=>{const{normalize:t}=e;return t(["Nur teilweise hochgeladen"])},"partial-upload-message":e=>{const{normalize:t}=e;return t(["Der Zip-Container wurde erfolgreich hochgeladen, aber es wurde nur ein Teil der erwarteten Daten erfolgreich extrahiert (siehe unten)"])}}}})}"function"===typeof tt&&tt(et);const nt=(0,Ge.Z)(et,[["render",Ue],["__scopeId","data-v-5db02d3c"]]);var at=nt,rt={name:"UApp",components:{FileUploader:at},props:{uploadConfig:String,actionUrl:String,exceptionUrl:String,language:String},data(){return this.$i18n.locale=this.language,{parsedUploadConfig:JSON.parse(this.uploadConfig),postData:{},locale:this.language}},watch:{locale(e){this.$i18n.locale=e}},methods:{updatePostData(e){Object.keys(e).forEach((t=>{this.postData[t]=e[t]}))},zipData(){let e=document.querySelectorAll("input[type=file]");e.forEach((e=>{e.disabled=!0}));let t=new FormData(document.getElementById("uploader-form")),n=new(Ie());n.file("ul_data.json",JSON.stringify(this.postData)).generateAsync({type:"blob"}).then((e=>{t.append("post_data",e),fetch(this.actionUrl,{method:"POST",body:t}).then((e=>{console.log(e),e.redirected&&(window.location.href=e.url)})).catch((e=>{console.info(e)}))}))}}};function ot(e){e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{en:{"data-submit-wait":e=>{const{normalize:t}=e;return t(["Just a moment, your data donation is being submitted"])},"next-btn-label":e=>{const{normalize:t}=e;return t(["Submit Data"])}},de:{"data-submit-wait":e=>{const{normalize:t}=e;return t(["Einen Moment bitte, Ihre Datenspende wird gerade übermittelt"])},"next-btn-label":e=>{const{normalize:t}=e;return t(["Daten übermitteln"])}}}})}"function"===typeof ot&&ot(rt);const st=(0,Ge.Z)(rt,[["render",u]]);var it=st,lt=n(2474);const ct=new lt.o({fallbackLocale:"en"}),dt="#uapp",ut=document.querySelector(dt),pt=(0,a.ri)(it,{...ut.dataset});pt.use(ct),pt.mount(dt)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var s=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={93:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,s=a[0],i=a[1],l=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var d=l(n)}for(t&&t(a);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkvue_frontend"]=self["webpackChunkvue_frontend"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2851)}));a=n.O(a)})();
//# sourceMappingURL=vue_uploader.js.map